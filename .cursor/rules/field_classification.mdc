---
description: Classification des champs GDD — métadonnées vs contexte narratif, champs essentiels
globs:
  - "**/context_field_detector.py"
  - "**/context_organizer.py"
  - "**/api/schemas/config.py"
  - "**/api/routers/config.py"
alwaysApply: false
---

# Classification des champs GDD

## Deux critères distincts

### 1. Métadonnées vs Contexte narratif (`is_metadata`)

- **Métadonnées** : Tous les champs **AVANT "Introduction"** dans l'ordre du JSON
- **Contexte narratif** : "Introduction" et tous les champs qui viennent après

Détection : `_is_metadata_field()` compare la position de la clé racine avec "Introduction" dans l'ordre des clés du JSON.

### 2. Champs essentiels (`is_essential`)

- **Contexte narratif** : Définis dans `context_organizer.ESSENTIAL_CONTEXT_FIELDS`
- **Métadonnées** : Définis dans `context_organizer.ESSENTIAL_METADATA_FIELDS`

## Usage

- `is_metadata` : Filtrage onglets (Métadonnées vs Contexte)
- `is_essential` : Indicateur "champ essentiel" (⭐) et boutons de sélection
