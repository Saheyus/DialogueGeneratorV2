---
description: Classification des champs GDD — métadonnées vs contexte narratif, champs essentiels
globs:
  - "**/context_field_detector.py"
  - "**/context_organizer.py"
  - "**/api/schemas/config.py"
  - "**/api/routers/config.py"
alwaysApply: false
---

# Classification des champs GDD

## Deux critères distincts

### 1. Métadonnées vs Contexte narratif (`is_metadata`)

- **Métadonnées** : Tous les champs **AVANT "Introduction"** dans l'ordre du JSON
- **Contexte narratif** : "Introduction" et tous les champs qui viennent après

Détection : `_is_metadata_field()` compare la position de la clé racine avec "Introduction" dans l'ordre des clés du JSON.

### 2. Champs essentiels (`is_essential`)

- **Champs essentiels du contexte narratif** : Définis dans `context_organizer.MINIMAL_FIELDS` (ex: "Dialogue Type.Registre de langage du personnage", "Caractérisation.Désir")
- **Métadonnées** : Généralement toutes incluses (courtes), mais ne sont PAS des "champs essentiels" au sens génération

## Usage

- `is_metadata` : Filtrage onglets (Métadonnées vs Contexte)
- `is_essential` : Champs non désélectionnables pour génération minimale (contexte narratif uniquement)
