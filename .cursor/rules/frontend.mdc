---
description: Frontend React TypeScript — API client, state management, composants
globs: ["frontend/**/*", "web/**/*", "client/**/*"]
alwaysApply: false
---

- **Architecture**: React + TypeScript + Vite dans `frontend/`. **Interface principale** du projet. Consomme l'API REST (`/api/v1/*`), n'implémente pas la logique métier. 
- **Client API**: `frontend/src/api/client.ts` (axios avec intercepteurs), modules par domaine (`auth.ts`, `dialogues.ts`, `interactions.ts`).
- **Types**: `frontend/src/types/api.ts` alignés sur les schémas backend Pydantic. Générer depuis OpenAPI si possible.
- **State Management**: Zustand (`frontend/src/store/`) pour auth et état global. Éviter prop drilling excessif.
- **Composants**: Structure modulaire (`components/layout/`, `components/auth/`, `components/generation/`), réutilisables et testables.
- **Routing**: React Router (`react-router-dom`) pour navigation, routes protégées avec `ProtectedRoute`.
- **Authentification**: JWT stocké en localStorage (access_token), refresh automatique via intercepteur axios, déconnexion propre.
- **UX**: États loading/error/empty gérés, messages d'erreur utilisateur-friendly, pas de secrets exposés.
- **Tests**: Tests unitaires composants (React Testing Library), tests hooks, mocks pour API client.
- **Build**: Vite pour dev/build, proxy API en dev (`vite.config.ts`), build production dans `dist/`.
- **Commande dev**: `npm run dev` (depuis racine, lance tout) ou `cd frontend && npm run dev` (frontend seul).
- **Références**: Voir `README_API.md` pour contrats API.
